(()=>{var Q=Object.defineProperty;var U=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var G=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X=(t,e)=>{for(var n in e||(e={}))nt.call(e,n)&&G(t,n,e[n]);if(U)for(var n of U(e))ot.call(e,n)&&G(t,n,e[n]);return t};var it=(t,e)=>{for(var n in e)Q(t,n,{get:e[n],enumerable:!0})};function v(t){let e=t&&typeof t=="object"?Object.assign({},t):{};e.id=e.id||this._nextId(),e.host=(e.host||"brick").toLowerCase(),e.kind=(e.kind||"brick").toLowerCase(),Object.defineProperty(this,"id",{value:e.id,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"host",{value:e.host,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"kind",{value:e.kind,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"_runtime",{value:{},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(this,"_controllers",{value:globalThis.VanillaBrick.runtime.controllers,writable:!1,configurable:!1,enumerable:!1});let n=this,o=this._controllers;o.status&&o.status.init(n),o.options&&o.options.init(n,e),o.events&&o.events.init(n),o.extensions&&o.extensions.init(n),this.status={get:()=>o.status.get(n),set:(i,s)=>o.status.set(n,i,s),is:i=>o.status.is(n,i)},this.options={get:(i,s)=>o.options.get(n,i,s),set:(i,s)=>(o.options.setSync(n,i,s),n),setAsync:async(i,s)=>(await o.options.setAsync(n,i,s),n),has:i=>o.options.has(n,i),all:()=>o.options.all(n),setSilent:(i,s)=>(o.options.setSilent(n,i,s),n)},o.extensions&&o.extensions.applyAll(n),o.status&&o.status.set(n,"ready",{options:e})}v.prototype.destroy=function(){this._controllers.status.set(this,"destroyed"),this._runtime&&(this._runtime.status={},this._runtime.options={},this._runtime.events={},this._runtime.extensions={})};Object.defineProperty(v,"_idCounter",{value:0,writable:!0,configurable:!1,enumerable:!1});Object.defineProperty(v.prototype,"_nextId",{value:function(){return v._idCounter+=1,"brick-"+v._idCounter},writable:!1,configurable:!1,enumerable:!1});var st={_cache:{},all:function(t){if(!t||typeof t!="object")return console.warn("ExtensionsRegistry.all() called without brick context"),[];let e=(t.host||"brick").toLowerCase(),n=(t.kind||"").toLowerCase();if(!n)return[];let o=e+"::"+n;if(this._cache[o])return this._cache[o];let i=globalThis.VanillaBrick&&globalThis.VanillaBrick.extensions||{},s={},c=new Set;function r(a){if(!a||typeof a!="object")return null;let p=(a.host||"brick").toLowerCase(),m=typeof a.kind=="string"?a.kind.toLowerCase():"";return m?{host:p,kind:m}:null}function f(a,p,m){if(!a)return!1;let y=a.host==="*"||a.host===p,b=a.kind==="*"||a.kind===m;return y&&b}for(let a in i){if(!Object.prototype.hasOwnProperty.call(i,a))continue;let p=i[a];if(!p||typeof p!="object"||c.has(p))continue;p._name||(p._name=p.ns||a);let m=p.for;if(!Array.isArray(m)||!m.length){console.warn("VanillaBrick extension without valid `for` array, skipped",p._name||a);continue}let y=!1;for(let b=0;b<m.length;b+=1){let E=r(m[b]);if(E&&f(E,e,n)){y=!0;break}}y&&(s[a]={name:a,ext:p},c.add(p))}let l=[],u={};function d(a){if(u[a]==="ok")return!0;if(u[a]==="visiting"||u[a]==="missing")return!1;let p=s[a];if(!p){for(let y in s)if(s[y].ext.ns===a){p=s[y];break}}if(!p)return u[a]="missing",!1;u[a]="visiting";let m=p.ext.requires||p.ext._requires;if(Array.isArray(m))for(let y=0;y<m.length;y++){let b=m[y];if(!d(b))return u[a]="missing",!1}return u[a]="ok",l.push(p),!0}for(let a in s)d(a);return this._cache[o]=l,l},_bake:function(t){let e={};for(let n=0;n<t.length;n++){let o=t[n],i=o.name||o.ext.ns,s={_name:i,_def:o.ext};if(o.ext.extension&&typeof o.ext.extension=="object")for(let r in o.ext.extension)typeof o.ext.extension[r]=="function"&&(s[r]=o.ext.extension[r]);let c={};if(o.ext.brick)for(let r in o.ext.brick)typeof o.ext.brick[r]=="function"&&function(f,l,u){c[f]=function(){let d=this._extData&&this._extData[u];if(!d){console.warn(`VanillaBrick: Extension data not found for ${u} in namespace API call ${f}`);return}let a=Array.prototype.slice.call(arguments),p=globalThis.VanillaBrick?globalThis.VanillaBrick.runtime:null;if(p&&typeof p.execute=="function"){let m={type:"brick-api",ext:u,brick:d.ctx.brick?d.ctx.brick.id:"unknown",fnName:f};return p.execute(l,d.ctx,a,m)}return l.apply(d.ctx,a)}}(r,o.ext.brick[r],i);e[i]={ext:s,api:c}}return e}},A=st;function C(){}C.prototype.execute=function(t,e,n,o){"use strict";if(typeof t!="function"){let i=o&&o.brick||e&&e.brick&&e.brick.id||"unknown";console.warn(`[RuntimeController] Attempted to execute non-function for brick ${i}`,o);return}try{let i=t.apply(e,n);return i&&typeof i.then=="function"?i.catch(function(s){return this._handleError(s,t,e,o),Promise.reject(s)}.bind(this)):i}catch(i){throw this._handleError(i,t,e,o),i}};C.prototype._handleError=function(t,e,n,o){var i=n&&n.brick?n.brick:n;(!i||!i.id)&&o&&o.brick&&(i={id:o.brick});let s={error:t,message:t.message||String(t),stack:t.stack,meta:o||{},context:{brick:i&&i.id?i.id:null,kind:i&&i.kind?i.kind:null}};try{s.fnSource=e.toString()}catch(c){s.fnSource="[unable to capture source]"}console.error("[RuntimeController] Error executing developer code:",s)};function _(){}_.prototype.init=function(t){!t||!t._runtime||(t._runtime.status={value:"initializing",listening:!0})};_.prototype.get=function(t){return t&&t._runtime&&t._runtime.status?t._runtime.status.value:void 0};_.prototype.is=function(t,e){return!t||!t._runtime||!t._runtime.status?!1:t._runtime.status.value===e};_.prototype.set=function(t,e,n){if(!t||!t._runtime||!t._runtime.status)return;let o=t._runtime.status;if(!o.listening||o.value===e)return;let i=o.value;o.value=e,t.events&&(t.events.fire("brick:status:change",X({from:i,to:e},n)),t.events.fire("brick:status:"+e,n)),e==="destroyed"&&(o.listening=!1)};var L={};it(L,{getOption:()=>S,mergeOptions:()=>w,setOption:()=>O});function w(){let t={};for(let e=0;e<arguments.length;e++){let n=arguments[e];if(!(!n||typeof n!="object"))for(let o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;let i=n[o],s=t[o];i&&typeof i=="object"&&!Array.isArray(i)&&s&&typeof s=="object"&&!Array.isArray(s)?t[o]=w(s,i):t[o]=i}}return t}function S(t,e){if(!t||!e)return;if(!e.indexOf("."))return t[e];let n=e.split("."),o=t;for(let i=0;i<n.length;i++){if(o==null)return;o=o[n[i]]}return o}function O(t,e,n){if(!t||!e)return;let o=e.split("."),i=t;for(let s=0;s<o.length-1;s++){let c=o[s];(i[c]===void 0||i[c]===null)&&(i[c]={}),i=i[c]}i[o[o.length-1]]=n}function x(){}x.prototype.init=function(t,e){!t||!t._runtime||(t._runtime.options={data:e||{},cache:{}})};x.prototype.all=function(t){return t&&t._runtime&&t._runtime.options?t._runtime.options.data:{}};x.prototype.has=function(t,e){let n=t&&t._runtime&&t._runtime.options?t._runtime.options.data:{};return S(n,e)!==void 0};x.prototype.get=function(t,e,n){let o=t&&t._runtime?t._runtime.options:null;if(!o)return n;if(o.cache&&Object.prototype.hasOwnProperty.call(o.cache,e))return o.cache[e];let i=S(o.data,e),s=i===void 0?n:i;return o.cache&&(o.cache[e]=s),s};x.prototype.setSync=function(t,e,n){let o=t&&t._runtime?t._runtime.options:null;if(!o)return;let i=this.get(t,e);i!==n&&(O(o.data,e,n),o.cache={},t.events&&(t.events.fire("brick:option:changed",{key:e,value:n,oldValue:i}),t.events.fire("brick:option:changed:"+e,{value:n,oldValue:i})))};x.prototype.setSilent=function(t,e,n){let o=t&&t._runtime?t._runtime.options:null;o&&(O(o.data,e,n),o.cache={})};x.prototype.setAsync=async function(t,e,n){return this.setSync(t,e,n),Promise.resolve()};function h(){this.phases=["before","on","after"]}h.prototype.init=function(t){if(!t||!t._runtime)return;t._runtime.events={handlers:[],dispatchCache:{}};let e=this;t.events={on:function(n,o,i,s,c){return e.on(t,n,o,i,s,c),t},off:function(n,o,i){return e.off(t,n,o,i),t},fire:function(n,o){return e.fire(t,n,o),t},fireAsync:function(n,o){return e.fireAsync(t,n,o)}}};h.prototype._normalizePriority=function(t){let e=typeof t=="number"?t:5;return e<0&&(e=0),e>10&&(e=10),e};h.prototype._compilePattern=function(t){let e=(t||"").split(":"),n=e[0],o=e[1],i=e[2];return{namespace:!n||n==="*"?void 0:n,type:!o||o==="*"?void 0:o,target:!i||i==="*"?void 0:i}};h.prototype._parseEventKey=function(t){let e=(t||"").split(":");return{namespace:e[0]||"",type:e[1]||"",target:e[2]||""}};h.prototype._matches=function(t,e){return(t.namespace===void 0||t.namespace===e.namespace)&&(t.type===void 0||t.type===e.type)&&(t.target===void 0||t.target===e.target)};h.prototype._validateEventName=function(t){if(typeof t!="string")return console.error("[EventBus] Event name must be a string.",t),!1;let e=t.split(":");return e.length!==3?(console.error('[EventBus] Invalid event name format. Expected exactly "namespace:type:target" (3 segments). Got:',t),!1):!e[0]||e[0]==="*"||!e[1]||e[1]==="*"||!e[2]||e[2]==="*"?(console.error("[EventBus] Invalid event name for dispatch. Wildcards (*) and empty segments are not allowed in namespace, type, or target.",t),!1):!0};h.prototype._getHandlersForEvent=function(t,e,n){if(!t||!t._runtime||!t._runtime.events)return n?[]:{before:[],on:[],after:[]};let o=t._runtime.events,i;if(o.dispatchCache[e])i=o.dispatchCache[e];else{let s=this._parseEventKey(e);i={before:[],on:[],after:[]};for(let c=0;c<o.handlers.length;c+=1){let r=o.handlers[c];this._matches(r.compiled,s)&&i[r.phase]&&i[r.phase].push(r)}o.dispatchCache[e]=i}return n?i[n]||[]:i};h.prototype.on=function(t,e,n,o,i,s){if(typeof n=="function"?(s=i,i=n,n="on",o=void 0):typeof o=="function"&&typeof i!="function"&&(s=i,i=o,o=void 0),!i)return;let c=n||"on";this.phases.indexOf(c)===-1&&(c="on");let r=this._normalizePriority(o),f=t._runtime.events;f.handlers.push({pattern:e,compiled:this._compilePattern(e),phase:c,handler:i,priority:r,meta:s||null}),f.handlers.sort(function(l,u){let d=typeof l.priority=="number"?l.priority:5,a=typeof u.priority=="number"?u.priority:5;return d-a}),f.dispatchCache={}};h.prototype.off=function(t,e,n,o){if(!t||!t._runtime||!t._runtime.events)return;let i=t._runtime.events;for(let s=i.handlers.length-1;s>=0;s-=1){let c=i.handlers[s];e&&c.pattern!==e||n&&c.phase!==n||o&&c.handler!==o||i.handlers.splice(s,1)}i.dispatchCache={}};h.prototype._firePhase=async function(t,e,n,o){o.event.phase=e,o.stopPhase=!1;let i=this._getHandlersForEvent(t,n,e),s=globalThis.VanillaBrick?globalThis.VanillaBrick.runtime:null;for(let c=0;c<i.length&&!o.stopPhase;c+=1){let r=i[c],f=r.handler;try{let l;f&&typeof f=="object"&&typeof f.fn=="function"?s?l=s.execute(f.fn,f.ctx,[o],f.meta):l=f.fn.apply(f.ctx,[o]):typeof f=="function"&&(s?l=s.execute(f,{brick:t},[o],r.meta):l=f(o,{brick:t})),l&&typeof l.then=="function"&&await l}catch(l){console.error("Error in event handler execution:",l,{h:r,eventName:n,phase:e}),o.errors.push({error:l,phase:e,event:n}),o.cancel=!0}}return o};h.prototype._run=async function(t,e,n){if(!t||!t._runtime||!t._runtime.events)return{event:{name:e},errors:[{error:"Event system not initialized for this brick"}],cancel:!0};if(!this._validateEventName(e))return{event:{name:e},errors:[{error:"Invalid event name format or wildcards in dispatch"}],cancel:!0};let o=this._parseEventKey(e),i={brick:t||null,cancel:!1,data:n,errors:[],event:{phase:null,name:e,namespace:o.namespace,type:o.type,target:o.target},stopPhase:!1},s=this.phases;for(let c=0;c<s.length;c+=1){let r=s[c];r==="on"&&i.cancel||await this._firePhase(t,r,e,i)}return i};h.prototype.fire=function(t,e,n){this._run(t,e,n)};h.prototype.fireAsync=function(t,e,n){return this._run(t,e,n)};function rt(t){if(!t)return{ns:"",action:"",target:"*"};let e=String(t).split(":"),n=e[0]||"",o=e[1]||"",i=e.length>2?e.slice(2).join(":"):"*";return i||(i="*"),{ns:n,action:o,target:i}}function k(){}function q(){return globalThis.VanillaBrick&&globalThis.VanillaBrick.runtime?globalThis.VanillaBrick.runtime:null}k.prototype.init=function(t){!t||!t._runtime||(t._runtime.extensions={map:{},destroyHook:!1})};k.prototype.applyAll=function(t){let e=A;if(!e||typeof e.all!="function")return;let n=e.all(t)||[];if(n.length==0)return;let o=q();if(o){o.prototypes||(o.prototypes={});let s=e._bake(n);Object.assign(o.prototypes,s)}let i=t._controllers&&t._controllers.options;if(!w||typeof w!="function")console.error("mergeOptions is missing; cannot merge extension defaults safely");else if(i&&typeof i.get=="function"){let s=t._runtime&&t._runtime.options?t._runtime.options.data:{},c=(t.kind||"").toLowerCase(),r=[],f=[];for(let u=0;u<n.length;u+=1){let d=n[u],a=d.ext.options||d.ext._options;if(!a)continue;let p=(d.ext.ns||d.name||"").toLowerCase();p&&c&&p===c+"-core"?r.push(a):f.push(a)}let l=w.apply(null,r.concat(f,[s]));t._runtime&&t._runtime.options&&(t._runtime.options.data=l,t._runtime.options.cache={})}for(let s=0;s<n.length;s+=1)this._install(t,n[s]);this._ensureDestroyHook(t)};k.prototype._install=function(t,e){let n=e.name||e.ext.ns||null,o=e.ext.ns||n;if(!n){console.warn("VanillaBrick extension without name/ns, skipped",e);return}let i=t&&t._runtime?t._runtime.extensions:null;if(!i||i.map[n])return;let s=q(),c=s&&s.prototypes?s.prototypes[n]:null,r;if(c&&c.ext)r=Object.create(c.ext),r.brick=t,r.ext=r,r._ctx=r;else{let l={name:n,def:e.ext,brick:t};r=Object.create(l),r.brick=t,r.ext=l,r._ctx=r}Object.defineProperty(r,"options",{value:t.options,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(r,"events",{value:t.events,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(r,"status",{value:t.status,writable:!1,enumerable:!1,configurable:!0});let f=r;if(!c&&e.ext.extension&&typeof e.ext.extension=="object")for(let l in e.ext.extension){if(!Object.prototype.hasOwnProperty.call(e.ext.extension,l))continue;let u=e.ext.extension[l];if(typeof u=="function"){let d={type:"extension-private",ext:n,brick:t.id,fnName:l};r[l]=function(){let a=Array.prototype.slice.call(arguments);return s&&typeof s.execute=="function"?s.execute(u,r,a,d):u.apply(r,a)}}}if(typeof e.ext.init=="function")try{let l;if(s&&typeof s.execute=="function"?l=s.execute(e.ext.init,r,[],{type:"init",ext:n,brick:t.id,fnName:"init"}):l=e.ext.init.call(r),l===!1)return}catch(l){console.error('VanillaBrick extension "'+n+'" init() failed',l);return}if(e.ext.brick&&typeof e.ext.brick=="object"){t[o]||(t[o]={_extData:{}});let l=t[o];if(l._extData||(l._extData={}),c&&c.api)Object.assign(l,c.api),l._extData[n]={ctx:f,fns:e.ext.brick,meta:{}};else for(let u in e.ext.brick){if(!Object.prototype.hasOwnProperty.call(e.ext.brick,u))continue;let d=e.ext.brick[u];if(typeof d!="function")continue;let a={type:"brick-api",ext:n,brick:t.id,fnName:o+"."+u};l[u]=function(){let p=Array.prototype.slice.call(arguments);return s&&typeof s.execute=="function"?s.execute(d,f,p,a):d.apply(f,p)}}}if(Array.isArray(e.ext.events)&&e.ext.events.length&&t.events&&typeof t.events.on=="function")for(let l=0;l<e.ext.events.length;l+=1){let u=e.ext.events[l];if(!u)continue;let d=rt(u.for),a=d.ns+":"+d.action+":"+d.target;["before","on","after"].forEach(function(p){let m=u[p];if(!m||typeof m.fn!="function")return;let y=typeof m.priority=="number"?m.priority:void 0,b={type:"event",ext:n,brick:t.id,event:a,phase:p,fnName:m.fn.name||"anon"},E=function(et){let J=[et];return s&&typeof s.execute=="function"?s.execute(m.fn,r,J,b):m.fn.apply(r,J)};t.events.on(a,p,y,E,{ext:n,fn:m.fn.name})})}i.map[n]=r};k.prototype._ensureDestroyHook=function(t){let e=t&&t._runtime?t._runtime.extensions:null;e&&(e.destroyHook||!t||!t.events||typeof t.events.on!="function"||(e.destroyHook=!0,t.events.on("brick:status:destroyed","on",0,function(){let n=q();for(let o in e.map){if(!Object.prototype.hasOwnProperty.call(e.map,o))continue;let i=e.map[o],s=i._def?{destroy:i._def.destroy,ns:i._name}:i.def||{};if(typeof s.destroy=="function")try{n&&typeof n.execute=="function"?n.execute(s.destroy,i,[],{type:"destroy",ext:o,brick:t.id,fnName:"destroy"}):s.destroy.call(i)}catch(c){console.error('VanillaBrick extension "'+o+'" destroy() failed',c)}}e.map={}})))};function Y(t){t.runtime.services=t.runtime.services||{},t.service=function(e){return t.runtime.services[e]?t.runtime.services[e]:t.base.serviceStart(e)},t.base.serviceStart=function(e){if(t.runtime.services[e])return t.runtime.services[e];let n=t.services[e];if(!n)return console.warn("Service definition not found:",e),null;let o=Object.assign({},n);o.id=e,o.host="service",o.kind=o.kind||"service";let i=new t.brick(o);return t.runtime.services[e]=i,t.runtime.bricks&&Array.isArray(t.runtime.bricks)&&t.runtime.bricks.push(i),i},t.base.serviceStop=function(e){let n=t.runtime.services[e];n&&(n.destroy&&n.destroy(),delete t.runtime.services[e])}}function Z(t){t.base=t.base||{},t.configs=t.configs||{};let e={list:[],byId:{}};function n(r){if(typeof document=="undefined")return;let f=r||document;if(!f.querySelectorAll)return;let l=f.querySelectorAll('script[type="application/json"][data-brick]');for(let u=0;u<l.length;u+=1){let a=l[u].textContent||"";if(a.trim())try{let p=JSON.parse(a);if(!p||typeof p!="object")continue;for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;let y=t.configs[m]&&typeof t.configs[m]=="object"?t.configs[m]:{},b=p[m];!b||typeof b!="object"||(t.configs[m]=Object.assign({},y,b))}}catch(p){console.warn("VanillaBrick: invalid JSON in data-brick config",p)}}}function o(r){if(!r)return;let f=r.getAttribute("brick-kind")||r.getAttribute("data-kind")||r.getAttribute("data-brick-kind")||r.dataset&&(r.dataset.kind||r.dataset.brickKind);return f?String(f).toLowerCase():void 0}function i(r){if(!r)return null;if(r.__brickInstance)return r.__brickInstance;let f={},l=r.id&&t.configs?t.configs[r.id]:null;l&&typeof l=="object"&&Object.assign(f,l),r.id&&(f.id=r.id);let u=o(r);u&&(f.kind=u),f.html={id:r.id||null,element:r};let d=new t.brick(f);return r.__brickInstance=d,e.list.push(d),e.byId[d.id]=d,console.log("Brick",r.id,d),d}function s(r){if(typeof document=="undefined")return[];let f=r||document;if(!f.querySelectorAll)return[];n(f);let l=f.querySelectorAll(".vb"),u=[];for(let d=0;d<l.length;d++){let a=i(l[d]);a&&u.push(a)}return u}if(t.base.bootstrap=s,t.runtime=t.runtime||{},t.runtime.bricks=e.list||[],t.base.getBrick=function(r){return e.byId[r]||null},typeof document!="undefined"){let r=function(){c||(c=!0,s())};var c=!1;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){r()}):setTimeout(r,0)}}var ct={for:[{host:"brick",kind:"*"}],requires:["html"],ns:"css",options:{},brick:{addClass:function(t,e){if(!(!t||!e))if(t.classList&&t.classList.add)t.classList.add(e);else{let n=t.className||"";(" "+n+" ").indexOf(" "+e+" ")===-1&&(t.className=(n?n+" ":"")+e)}},removeClass:function(t,e){if(!(!t||!e))if(t.classList&&t.classList.remove)t.classList.remove(e);else{let n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()}},hasClass:function(t,e){return!t||!e?!1:t.classList&&t.classList.contains?t.classList.contains(e):(" "+(t.className||"")+" ").indexOf(" "+e+" ")!==-1},toggleClass:function(t,e,n){if(!(!t||!e))if(t.classList&&typeof t.classList.toggle=="function")typeof n=="boolean"?t.classList.toggle(e,n):t.classList.toggle(e);else{let o=this.css.hasClass(e);typeof n=="boolean"?(n&&!o&&this.css.addClass(e),!n&&o&&this.css.removeClass(e)):o?this.css.removeClass(e):this.css.addClass(e)}},show:function(t){t&&(t.style.display="")},hide:function(t){t&&(t.style.display="none")},setStyle:function(t,e,n){!t||!e||(t.style[e]=n)},getStyle:function(t,e){if(!t||!e||typeof window=="undefined"||!window.getComputedStyle)return null;let n=window.getComputedStyle(t);return n?n.getPropertyValue(e)||n[e]:null},setVar:function(t,e,n){!t||!e||(e.indexOf("--")!==0&&(e="--"+e),t.style.setProperty(e,n))},getVar:function(t,e){if(!t||!e||typeof window=="undefined"||!window.getComputedStyle)return null;e.indexOf("--")!==0&&(e="--"+e);let n=window.getComputedStyle(t);return n?n.getPropertyValue(e):null}},extension:{},events:[],init:function(){return!this.brick||!this.brick.html||typeof this.brick.html.element!="function"?(console.warn("VanillaBrick htmlCss requires html extension active",this.brick&&this.brick.id),!1):this.brick.html.element()?!0:(console.warn("VanillaBrick htmlCss: no DOM element resolved",this.brick&&this.brick.id),!1)},destroy:function(){}},j=ct;var lt={for:[{host:"brick",kind:"*"}],requires:["html"],ns:"html",options:{},brick:{on:function(t,e,n,o){if(!t||typeof t.addEventListener!="function"||typeof n!="function")return;t.addEventListener(e,n,o);let i=this.brick.options.get("html.listeners",[]);Array.isArray(i)||(i=[]),i.push({el:t,type:e,handler:n,options:o,source:"api"}),this.brick.options.setSilent("html.listeners",i)},off:function(t,e,n,o){if(!t||typeof t.removeEventListener!="function"||typeof n!="function")return;t.removeEventListener(e,n,o);let i=this.brick.options.get("html.listeners",[]);if(Array.isArray(i)){for(let s=i.length-1;s>=0;s-=1){let c=i[s];c.type===e&&c.handler===n&&i.splice(s,1)}this.brick.options.setSilent("html.listeners",i)}}},extension:{},events:[{for:"brick:status:ready",on:{fn:function(){let t=this.brick.html.element();if(!t||typeof t.addEventListener!="function")return;let e=this.brick.options.get("html.events.listeners",[]);Array.isArray(e)||(e=[]);let n=this,o=[{type:"click",eventName:"html:event:click"},{type:"mouseenter",eventName:"html:event:mouseenter"},{type:"mouseleave",eventName:"html:event:mouseleave"},{type:"mousedown",eventName:"html:event:mousedown"},{type:"mouseup",eventName:"html:event:mouseup"}];for(let i=0;i<o.length;i+=1){let s=o[i],c=function(f){n.brick.events.fire(s.eventName,{domEvent:f,element:t})};this.brick.html.on(t,s.type,c)}}}},{for:"brick:status:destroyed",before:{fn:function(){let t=this.brick&&this.brick.html.element&&this.brick.html.element();if(!t||typeof t.removeEventListener!="function")return;let e=this.brick.options.get("html.events.listeners",[]);if(Array.isArray(e))for(let n=0;n<e.length;n+=1){let o=e[n];this.brick.html.off(t,o.type,o.handler,o.options)}}}}],init:function(){},destroy:function(){}},I=lt;var ft={for:[{host:"brick",kind:"*"}],requires:["html"],ns:"html",options:{},brick:{get:function(t){if(!t)return null;let e=this.html&&typeof this.html.element=="function"?this.html.element():null;return!e||!e.querySelector?null:t.toLowerCase&&e.tagName&&t.toLowerCase()===e.tagName.toLowerCase()?e:e.querySelector(t)||null},create:function(t,e){if(!t||typeof document=="undefined")return null;let n=document.createElement(t),o=e||{};if(o.text!==void 0&&o.text!==null&&(n.textContent=o.text),o.html!==void 0&&o.html!==null&&this.html&&typeof this.html.sanitize=="function"&&(n.innerHTML=this.html.sanitize(String(o.html))),o.attrs&&typeof o.attrs=="object")for(let i in o.attrs)Object.prototype.hasOwnProperty.call(o.attrs,i)&&o.attrs[i]!==void 0&&n.setAttribute(i,o.attrs[i]);if(o.classList&&Array.isArray(o.classList)&&n.classList.add.apply(n.classList,o.classList),o.dataset&&typeof o.dataset=="object")for(let i in o.dataset)Object.prototype.hasOwnProperty.call(o.dataset,i)&&o.dataset[i]!==void 0&&(n.dataset[i]=o.dataset[i]);return n},frag:function(){return typeof document!="undefined"&&document.createDocumentFragment?document.createDocumentFragment():null},append:function(t,e){!t||!e||!t.appendChild||t.appendChild(e)},prepend:function(t,e){!t||!e||!t.insertBefore||(t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e))},replace:function(t,e){!t||!t.replaceChildren||t.replaceChildren(e)},clear:function(t){!t||!t.replaceChildren||t.replaceChildren()},setSafe:function(t,e){if(t){if(!e){t.innerHTML="";return}this.html&&typeof this.html.sanitize=="function"?t.innerHTML=this.html.sanitize(String(e)):t.textContent=String(e)}},sanitize:function(t){if(!t)return"";if(typeof DOMParser=="undefined")return String(t).replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,"");let n=new DOMParser().parseFromString(String(t),"text/html");n.querySelectorAll("script, style, iframe, object, embed").forEach(function(s){s&&s.parentNode&&s.parentNode.removeChild(s)});let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT,null);for(;i.nextNode();){let s=i.currentNode,c=Array.prototype.slice.call(s.attributes||[]);for(let r=0;r<c.length;r++){let f=c[r],l=f.name.toLowerCase(),u=f.value||"";if(l.startsWith("on")){s.removeAttribute(f.name);continue}(l==="href"||l==="src")&&/^javascript:/i.test(u)&&s.removeAttribute(f.name)}}return n.body.innerHTML||""},queueRender:function(t){typeof t=="function"&&(typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t,0))},batch:function(t,e,n){let o=Array.isArray(t)?t:[],i=typeof e=="number"&&e>0?e:100,s=typeof n=="function"?n:null;if(!s)return Promise.resolve();let c=0;return new Promise(r=>{let f=()=>{let l=o.slice(c,c+i);l.length?(s(l,c),c+=i,this.queueRender(f.bind(this))):r()};f()})}},extension:{},events:[],init:function(){return!0},destroy:function(){}},P=ft;var ut={for:[{host:"brick",kind:"*"}],requires:[],ns:"html",options:{},brick:{element:function(){return this.options.get("html.element",null)},on:function(t,e,n){let o=this.options.get("html.element",null);if(!o||typeof o.addEventListener!="function"||typeof e!="function")return;o.addEventListener(t,e,n);let i=this.options.get("html.listeners",[]);Array.isArray(i)||(i=[]),i.push({type:t,handler:e,options:n,source:"api"}),this.options.setSilent("html.listeners",i)},off:function(t,e,n){let o=this.options.get("html.element",null);if(!o||typeof o.removeEventListener!="function"||typeof e!="function")return;o.removeEventListener(t,e,n);let i=this.options.get("html.listeners",[]);if(Array.isArray(i)){for(let s=i.length-1;s>=0;s-=1){let c=i[s];c.type===t&&c.handler===e&&i.splice(s,1)}this.options.setSilent("html.listeners",i)}}},extension:{_resolveElement:function(t){if(!t)return null;if(typeof Element!="undefined"&&t instanceof Element||t&&t.nodeType===1)return t;if(typeof t=="function")try{return t()}catch(e){return null}return null},_resolveById:function(t){return!t||typeof t!="string"||typeof document=="undefined"?null:document.getElementById(t)||null}},events:[],init:function(){if(!this.brick)return!1;let t=this.brick.options.get("html.element",null),e=this.brick.options.get("html.id",null),n=this._resolveElement(t);return!n&&e&&(n=this._resolveById(e)),n?(t&&!this._resolveElement(t)&&console.warn("VanillaBrick html element must be a DOM node or factory, not an id. Use options.html.id to resolve by id.",this.brick.id),this.brick.options.set("html.element",n),!0):(console.warn("VanillaBrick html extension requires a DOM element (options.html.element) or a valid options.html.id",this.brick.id),!1)},destroy:function(){let t=this.brick.options.get("html.element",null),e=this.brick.options.get("html.listeners",null);if(t&&Array.isArray(e))for(let n=0;n<e.length;n+=1){let o=e[n];o&&o.type&&o.handler&&t.removeEventListener(o.type,o.handler,o.options)}}},T=ut;var at=[{code:"1",name:"one",key:1},{code:"2",name:"two",key:2},{code:"3",name:"three",key:3},{code:"4",name:"four",key:4},{code:"5",name:"five",key:5},{code:"6",name:"six",key:6},{code:"7",name:"seven",key:7},{code:"8",name:"eight",key:8},{code:"9",name:"nine",key:9},{code:"10",name:"ten",key:10},{code:"11",name:"eleven",key:11},{code:"12",name:"twelve",key:12},{code:"13",name:"thirteen",key:13},{code:"14",name:"fourteen",key:14},{code:"15",name:"fifteen",key:15},{code:"16",name:"sixteen",key:16},{code:"17",name:"seventeen",key:17},{code:"18",name:"eighteen",key:18},{code:"19",name:"nineteen",key:19},{code:"20",name:"twenty",key:20}],dt={for:[{host:"brick",kind:"form"},{host:"brick",kind:"table"}],requires:[],ns:"store",options:{},brick:{load:function(){return this.brick.options.get("store.data",[])},set:function(t){if(t===null)return;let e=this.brick.options.get("store.data",[]);return t=Array.isArray(t)?t.slice():[t],this.brick.events.fire("store:data:set",{previous:e,data:t}),t},setAsync:async function(t){let e=this.brick.options.get("store.data",[]);return t=Array.isArray(t)?t.slice():[],await this.brick.events.fireAsync("store:data:set",{previous:e,data:t}),t},all:function(){return this.brick.store.load()},get:function(t){let e=this.brick.store.load();return typeof t!="number"||t<0||t>=e.length?null:e[t]}},extension:{_normalizeArray:function(t,e){return Array.isArray(t)?t.slice():Array.isArray(e)?e.slice():[]},_sortRows:function(t,e,n,o){let i=Array.isArray(t)?t.slice():[],s=typeof o=="function"?function(c,r){return o(c,r,n)}:function(c,r){let f=c&&Object.prototype.hasOwnProperty.call(c,e)?c[e]:void 0,l=r&&Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0,u=0;return f===l?u=0:f==null?u=-1:l==null?u=1:typeof f=="number"&&typeof l=="number"?u=f-l:u=String(f).localeCompare(String(l)),n==="desc"?-u:u};return i.sort(s),i}},events:[{for:"brick:status:ready",on:{fn:function(t){let e=this._normalizeArray(at,[]);this.brick.options.setSilent("store.data",e)}}},{for:"store:data:set",on:{fn:function(t){let e=t&&t.data||null,n=e&&e.data?e.data:[];this.brick.options.setSilent("store.data",n)}}},{for:"store:data:sort",on:{fn:function(t){let e=t&&t.data||{},n=e.field||null,o=e.dir||"asc";if(!n||!this.brick)return;let i=this._sortRows(this.brick.store.load(),n,o,e.compare);this.brick.options.setSilent("store.data",i),t.field=n,t.dir=o,t.data=i}}}],init:function(){},destroy:function(){}},R=dt;var pt={for:[{host:"brick",kind:"*"}],requires:[],ns:"wire",options:{},brick:{notify:function(t,e){console.warn("WireClient > sending notify",t,e),console.log("	for event",t),console.log("	with payload",e),this.ext._service||this.ext._connect(),this.ext._service&&this.ext._service.events.fire("wire:notify:out",{from:this.brick.id,event:t,data:e})},request:function(t,e){console.warn("request",t,e),console.log("this",this),this.ext._service||this.ext._connect(),this.ext._service&&(console.log("this.service",this.ext._service),this.ext._service.events.fire("wire:request:out",{from:this.brick.id,event:t,data:e}))}},extension:{_service:null,_connect:function(){this.ext._service||this.brick.options.get("wire",null)==null||(globalThis.VanillaBrick&&globalThis.VanillaBrick.service&&(this.ext._service=globalThis.VanillaBrick.service("WireService")),this.ext._service?this.ext._service.events.fire("wire:register:in",{brick:this.brick,options:this.brick.options.get("wire",{})}):console.warn("[Wire Client] No Wire Service found.",this.ext._service))}},events:[{for:"brick:status:ready",on:{fn:function(){this._connect()}}}],init:function(){},destroy:function(){}},D=pt;var mt={for:[{host:"service",kind:"wire"}],requires:[],ns:"wire",options:{},brick:{},events:[{for:"wire:notify:out",on:{fn:function(t){console.warn("WireService > on wire:notify:out",t);let e=t.data.from;console.log("	from",e);let n=t.data.event;console.log("	evName",n);let o=t.data.data;console.log("	evData",o);let i=this.ext._slaves[e];if(console.log("	for slaves",i),i&&i.length>0)for(let s=0;s<i.length;s++)console.log("	- firing",n,"in",i[s].brick.id),i[s].brick.events.fire(n,o)}}},{for:"wire:register:in",on:{fn:function(t){this.ext._register(t.data)}}}],extension:{_register:function(t){if(console.warn("register",t.brick,t.options,this),t.options.master&&(this.ext._bricks==null&&(this.ext._bricks={}),this.ext._bricks[t.brick.id]=t.brick),t.options.slaveOf&&t.options.slaveOf.length>0){this.ext._masters==null&&(this.ext._masters={}),this.ext._slaves==null&&(this.ext._slaves={});for(let e=0;e<t.options.slaveOf.length;e++)this.ext._masters[t.brick.id]||(this.ext._masters[t.brick.id]=[]),this.ext._masters[t.brick.id].push({id:t.options.slaveOf[e].id,kind:t.options.slaveOf[e].kind}),this.ext._slaves[t.options.slaveOf[e].id]||(this.ext._slaves[t.options.slaveOf[e].id]=[]),this.ext._slaves[t.options.slaveOf[e].id].push({id:t.brick.id,kind:t.brick.kind,brick:t.brick})}console.log("_bricks",this.ext._bricks),console.log("_masters",this.ext._masters),console.log("_slaves",this.ext._slaves)}}},H=mt;var ht={for:[{host:"brick",kind:"form"}],requires:["html"],ns:"items",options:{},brick:{get:function(){return this.options.get("form.items",[])}},extension:{_parseFromDom:function(){let t=this.brick.html.element();if(!t)return[];let e=[],n=t.querySelectorAll(".vb-form-group");for(let o=0;o<n.length;o++){let i=n[o],s={type:"group",items:[]},c=i.querySelectorAll(".vb-form-field");for(let r=0;r<c.length;r++){let f=c[r],l=f.querySelector("input, select, textarea"),u=f.querySelector("label");if(l){let d={type:"field",name:l.name||l.id,label:u?u.textContent:"",controlType:l.tagName.toLowerCase(),inputType:l.type,required:l.required,placeholder:l.placeholder,span:this._detectSpan(f)};s.items.push(d)}}e.push(s)}return e},_detectSpan:function(t){let e=t;for(;e&&!e.classList.contains("vb-row");){if(e.className&&typeof e.className=="string"){let n=e.className.match(/vb-span-(\d+)/);if(n)return parseInt(n[1],10)}if(e=e.parentElement,!e||e.tagName==="FORM")break}return 12},_render:function(t){let e=this.brick.html.element();if(e){e.innerHTML="";for(let n=0;n<t.length;n++){let o=t[n];if(o.type!=="group")continue;let i=document.createElement("div");i.className="vb-form-group";let s=document.createElement("div");if(s.className="vb-row",o.items&&o.items.length)for(let c=0;c<o.items.length;c++){let r=o.items[c],f=r.span||12,l=document.createElement("div");l.className="vb-span-"+f;let u=document.createElement("div");if(u.className="vb-form-field",r.label){let a=document.createElement("label");a.textContent=r.label,r.name&&(a.htmlFor=r.name),u.appendChild(a)}let d;r.controlType==="textarea"?d=document.createElement("textarea"):r.controlType==="select"?d=document.createElement("select"):(d=document.createElement("input"),d.type=r.inputType||"text"),r.name&&(d.name=r.name,d.id=r.name),r.placeholder&&(d.placeholder=r.placeholder),(r.required===!0||r.required==="true"||r.required==="required")&&(d.required=!0),u.appendChild(d),l.appendChild(u),s.appendChild(l)}i.appendChild(s),e.appendChild(i)}}}},events:[{for:"brick:status:ready",before:{fn:function(t){let e=[];if(this.brick.options.has("form.items")&&(e=this.brick.options.get("form.items")),!e||e.length===0){let n=this.brick.html.element();if(n){let o=n.getAttribute("brick-form-items")||n.getAttribute("data-form-items");o&&window[o]&&(console.log("[Form Items] Config var found",o),e=window[o],this.brick.options.set("form.items",e))}(!e||e.length===0)&&(console.log("[Form Items] Parsing from DOM",this.brick.id),e=this._parseFromDom(),this.brick.options.set("form.items",e))}else console.log("[Form Items] Config found in options",e);t.data=t.data||{},t.data.formItems=e}},on:{fn:function(t){let e=t.data.formItems||this.brick.options.get("form.items");e&&e.length>0&&this._render(e)}}}],init:function(){return!0},destroy:function(){}},M=ht;var yt={for:[{host:"brick",kind:"form"}],requires:["html","store"],ns:"record",options:{},brick:{getRecord:function(){let t=this.store.load();return t&&t.length?t[0]:null}},extension:{_bind:function(t){let e=this.brick.html.element();if(!e)return;let n=e.querySelectorAll("input, select, textarea");for(let o=0;o<n.length;o++){let i=n[o],s=i.name||i.id;s&&(t&&Object.prototype.hasOwnProperty.call(t,s)?i.value=t[s]:t||(i.value=""))}}},events:[{for:"brick:status:ready",on:{fn:function(t){let e=this.brick.store.load();e&&e.length&&this._bind(e[0])}}},{for:"store:data:*",after:{fn:function(t){let e=this.brick.store.load(),n=e&&e.length?e[0]:null;this._bind(n)}}},{for:"dom:row:focus",after:{fn:function(t){console.warn("Form > master focused a row",t);let e=t.data.row;console.log("	record",e),this._bind(e)}}}],init:function(){return!0},destroy:function(){}},F=yt;var bt={for:[{host:"brick",kind:"form"}],requires:["html"],ns:"form",options:{items:[]},brick:{submit:function(){let t=this.dom.element();t&&typeof t.submit=="function"&&t.submit()},reset:function(){let t=this.dom.element();t&&typeof t.reset=="function"&&t.reset()}},extension:{},events:[{for:"brick:status:ready",on:{fn:function(){}}}],init:function(){return!0},destroy:function(){}},N=bt;var xt={for:[{host:"brick",kind:"status-bar"}],requires:["html"],ns:"statusBar",events:[{for:"dom:row:focus",after:{fn:function(t){let e=t.data.row,n=this.brick.html.element();n&&(n.textContent=`Wire OK -> Selected: ${e.name}`)}}}],init:function(){let t=this.brick.html.element();t&&(t.textContent="Wire status: Waiting for table...")}},W=xt;var gt={for:[{host:"brick",kind:"table"}],requires:["html","store"],ns:"columns",brick:{get:function(){return this.options.get("table.columns",[])},sort:function(t,e){let o=this.brick.columns.get().find(function(c){return c&&c.datafield===t})||{},i=this.options.get("table.sort",{field:null,dir:null}),s=e;return s!=="asc"&&s!=="desc"&&(s=i.field===t&&i.dir==="asc"?"desc":"asc"),this.events.fire("store:data:sort",{field:t,dir:s,compare:typeof o.sort=="function"?o.sort:null}),s}},extension:{},events:[{for:"brick:status:ready",on:{fn:function(){let t=this.brick.columns.get(),e=this.brick.html.element&&this.brick.html.element();if(!e)return;let n=e.tagName&&e.tagName.toLowerCase()==="table"?e:e.querySelector&&e.querySelector("table");if(!n)return;let o=n.tHead?n.tHead:n.querySelector("thead");o||(o=n.createTHead?n.createTHead():n.insertBefore(document.createElement("thead"),n.firstChild));let i=o.rows&&o.rows[0]?o.rows[0]:o.insertRow();i.innerHTML="";let s=this.brick;for(let c=0;c<t.length;c+=1){let r=t[c]||{},f=document.createElement("th");f.textContent=r.label||r.datafield||"",r.sortable&&r.datafield&&(f.classList.add("vb-sortable"),f.addEventListener("click",function(l){return function(){s.columns.sort(l.datafield,null)}}(r))),i.appendChild(f)}}}},{for:"store:data:sort",after:{fn:function(t){this.brick.options.setSilent("table.sort",{field:t.field,dir:t.dir||"asc"})}}}],init:function(){},destroy:function(){},options:{table:{columns:[{datafield:"code",label:"Code",sortable:!0},{datafield:"name",label:"Name",sortable:!0}]}}},z=gt;var vt={for:[{host:"brick",kind:"table"}],requires:["html","rows","store"],ns:"rowsFocused",options:{},brick:{},extension:{_addTabIndex:function(){let t=this.brick.html.element();if(!t)return;let e=t.querySelectorAll("tbody tr")||[];for(let n=0;n<e.length;n++){let o=e[n];o.hasAttribute("tabindex")||o.setAttribute("tabindex",n)}},_handleFocus:function(t){let e=this.brick.html.element();if(!e)return;let n=t.closest("tr");if(!n)return;let o=e.querySelector("tr.vb-focused");o&&o.classList.remove("vb-focused"),n.classList.add("vb-focused");let i=Array.prototype.indexOf.call(n.parentNode.children,n),s=this.brick.store.get(i);this.brick.events.fire("dom:row:focus",{index:i,row:s,element:n})}},events:[{for:"brick:status:ready",on:{fn:function(){let t=this.brick.html.element();if(t){let e=this;t.addEventListener("focusin",function(n){e._handleFocus(n.target)})}this._addTabIndex()}}},{for:"store:data:set",after:{fn:function(t){this._addTabIndex()}}},{for:"store:data:sort",after:{fn:function(){this._addTabIndex()}}},{for:"dom:row:focus",after:{fn:function(t){var e;(e=this.brick.wire)==null||e.notify("dom:row:focus",t.data)}}}],init:function(){},destroy:function(){}},K=vt;var _t={for:[{host:"brick",kind:"table"}],requires:["html","store","columns"],ns:"rows",options:{},brick:{render:function(){let t=this.brick.html.element();if(!t)return;let e=t.tagName&&t.tagName.toLowerCase()==="table"?t:t.querySelector&&t.querySelector("table");if(!e)return;let n=this.brick.columns.get(),o=this.brick.store.load(),i=e.tBodies&&e.tBodies.length?e.tBodies[0]:e.querySelector("tbody");i||(i=document.createElement("tbody"),e.appendChild(i)),i.innerHTML="";for(let s=0;s<o.length;s+=1){let c=o[s]||{},r=document.createElement("tr");for(let f=0;f<n.length;f+=1){let u=(n[f]||{}).datafield,d=document.createElement("td");d.textContent=u&&c[u]!==void 0&&c[u]!==null?c[u]:"",r.appendChild(d)}i.appendChild(r)}}},extension:{},events:[{for:"brick:status:ready",on:{fn:function(){this.brick.rows.render()}}},{for:"store:data:*",after:{fn:function(t){this.brick.rows.render()}}}],init:function(){},destroy:function(){}},B=_t;var kt={for:[{host:"brick",kind:"table"}],requires:["html"],ns:"table",options:{},brick:{refresh:function(){this.__tableExt&&this.__tableExt._refreshRows()},getSelection:function(){let t=this.__tableExt;if(!t)return{index:-1,row:null};let e=typeof t.selectedIndex=="number"?t.selectedIndex:-1,n=e>=0&&t.rows&&t.rows[e]?t.rows[e]:null;return{index:e,row:n}},clearSelection:function(){this.__tableExt&&this.__tableExt._setSelectedIndex(-1)}},extension:{table:null,rows:[],selectedIndex:-1,_findTable:function(){let t=this.brick.html&&typeof this.brick.html.element=="function"?this.brick.html.element():null;if(!t||!t.querySelector)return this.table=null,null;let e=t.querySelector("table.vb-table")||t.querySelector("table");return this.table=e||null,this.table},_refreshRows:function(){let t=this.table||this._findTable();if(!t){this.rows=[],this.selectedIndex=-1;return}let e=t.tBodies&&t.tBodies.length?t.tBodies[0]:t.querySelector("tbody"),n=e?e.rows:t.rows;this.rows=Array.prototype.slice.call(n||[]),this.selectedIndex>=this.rows.length&&(this.selectedIndex=-1)},_setSelectedIndex:function(t){let e=this.rows||[];if(!e.length){this.selectedIndex=-1;return}(typeof t!="number"||t<0||t>=e.length)&&(t=-1);for(let n=0;n<e.length;n+=1){let o=e[n];!o||!o.classList||(n===t?o.classList.add("selected"):o.classList.remove("selected"))}this.selectedIndex=t}},events:[{for:"brick:status:ready",on:{fn:function(){this._findTable(),this._refreshRows()}}},{for:"dom:click:*",on:{fn:function(t){let e=this.table||this._findTable();if(!e||!t||!t.data||!t.data.domEvent)return;let n=t.data.domEvent.target;if(!n)return;let o=n,i=null;for(;o&&o!==e;){if(o.tagName&&o.tagName.toLowerCase()==="tr"){i=o;break}o=o.parentNode}if(!i)return;this._refreshRows();let c=(this.rows||[]).indexOf(i);c!==-1&&(this.selectedIndex===c?this._setSelectedIndex(-1):this._setSelectedIndex(c))}}}],init:function(){return this.brick.__tableExt=this,this.table=null,this.rows=[],this.selectedIndex=-1,!0},destroy:function(){this.rows=[],this.table=null,this.selectedIndex=-1,this.brick&&delete this.brick.__tableExt}},$=kt;var wt={kind:"wire"},V=wt;function tt(t){j&&(t.extensions.htmlCss=j),I&&(t.extensions.htmlEvents=I),P&&(t.extensions.htmlRender=P),T&&(t.extensions.html=T),R&&(t.extensions.store=R),D&&(t.extensions.wire=D),H&&(t.extensions.wireservice=H),M&&(t.extensions.formItems=M),F&&(t.extensions.formRecord=F),N&&(t.extensions.form=N),W&&(t.extensions.statusBar=W),z&&(t.extensions.tableColumns=z),K&&(t.extensions.tableRowsFocused=K),B&&(t.extensions.tableRows=B),$&&(t.extensions.table=$),t.services.WireService=V}var Ct=new C,g={brick:v,registry:A,utils:L,extensions:{},services:{},configs:{},runtime:Ct,base:{}};g.runtime.bricks=[];g.runtime.services={};g.runtime.prototypes={};g.runtime.controllers={status:new _,options:new x,events:new h,extensions:new k};globalThis.VanillaBrick=g;tt(g);Y(g);Z(g);var Le=g;})();
//# sourceMappingURL=vanillabrick.min.js.map
